[![Contributors][contributors-shield]][contributors-url]
[![Forks][forks-shield]][forks-url]
[![Stargazers][stars-shield]][stars-url]
[![Issues][issues-shield]][issues-url]
[![MIT License][license-shield]][license-url]
[![LinkedIn][linkedin-shield]][linkedin-url]


<!-- TABLE OF CONTENTS -->
<details>
  <summary>Table of Contents</summary>
  <ol>
    <li>
      <a href="#about-the-project">About The Project</a>
      <ul>
        <li><a href="#built-with">Built With</a></li>
      </ul>
    </li>
    <li><a href="#key-features">Key Features</a></li>
    <li>
      <a href="#getting-started">Getting Started</a>
      <ul>
        <li><a href="#prerequisites">Prerequisites</a></li>
        <li><a href="#installation">Installation</a></li>
      </ul>
    </li>
    <li><a href="#quick-start">Quick Start</a></li>
    <li><a href="#configuration">Configuration</a></li>
    <li><a href="#translation-providers">Translation Providers</a></li>
    <li><a href="#development">Development</a></li>
    <li><a href="#roadmap">Roadmap</a></li>
    <li><a href="#contributing">Contributing</a></li>
    <li><a href="#license">License</a></li>
    <li><a href="#contact">Contact</a></li>
    <li><a href="#acknowledgments">Acknowledgments</a></li>
  </ol>
</details>

<!-- ABOUT THE PROJECT -->
## About The Project

YASTwAI is a powerful command-line tool that extracts subtitles from your videos and translates them using AI. Whether you're watching foreign films, studying languages, or preparing content for international audiences, YASTwAI makes subtitle translation simple and effective.

### Why

- üé≠ **Quality Matters** - I was tired of poorly synchronized subtitles when watching my media
- üîß **Flexibility First** - I wanted a tool customizable enough to work with existing files
- üñ•Ô∏è **Modern Development** - I wanted to learn how to really use [Cursor](https://cursor.sh/) editor
- ü§ñ **AI-Powered Development** - I wanted to experience a glimpse into the future coding with an AI developer agent. Almost everything in this repo is generated by AI agents: commits, pull requests, documentation, unit tests and source code of the app itself
- üìö **Archiving purpose** - I want to save the prompts and agent settings I used to create this. You will be able to read the prompts associated with commits

<p align="right">(<a href="#top">back to top</a>)</p>

### Built With

* ü¶Ä [Rust](https://www.rust-lang.org/)
* üîÑ [FFmpeg](https://ffmpeg.org/) (for subtitle extraction)
* ü§ñ [Various AI Models](#translation-providers) (for translation)

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- KEY FEATURES -->
## Key Features

- üéØ **Extract & Translate** - Pull subtitles from videos and translate them in one step
- üåê **Multiple AI Providers** - Support for Ollama (local), OpenAI, and Anthropic
- üß† **Smart Processing** - Preserves formatting and timing of your subtitles
- ‚ö° **Concurrent Processing** - Efficient batch translation for faster results
- üîÑ **Direct Translation** - Translate existing SRT files without needing video
- üìä **Progress Tracking** - See real-time progress for lengthy translations
- üéõÔ∏è **Configurable** - Customize translation settings to your needs

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- GETTING STARTED -->
## Getting Started

To get YASTwAI up and running on your system, follow these simple steps.

### Prerequisites

* Rust and Cargo (1.85.0 or newer)
  ```sh
  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
  ```
* FFmpeg installed on your system (for subtitle extraction)
  ```sh
  # On Ubuntu/Debian
  sudo apt install ffmpeg
  
  # On macOS with Homebrew
  brew install ffmpeg
  
  # On Windows with Chocolatey
  choco install ffmpeg
  ```

### Installation

1. Clone the repository
   ```sh
   git clone https://github.com/nstefan/yastwai.git
   cd yastwai
   ```
2. Build the application
   ```sh
   cargo build --release
   ```
3. The executable will be in `target/release/yastwai`

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- QUICK START -->
## Quick Start

1. **Copy the example config** (or let YASTwAI create one for you):
   ```sh
   cp conf.example.json conf.json
   ```

2. **Run YASTwAI**:
   ```sh
   # Translate subtitles from a video file
   ./target/release/yastwai video.mkv

   # Process an entire directory
   ./target/release/yastwai videos/

   # Translate an SRT file directly
   ./target/release/yastwai subtitles.srt

   # Force overwrite existing translations
   ./target/release/yastwai -f video.mkv
   ```

3. **Find your translations** next to the original files as `original_name.{target_language}.srt`

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- CONFIGURATION -->
## Configuration

YASTwAI uses a simple JSON configuration file with these main settings:

```json
{
  "source_language": "en",
  "target_language": "fr",
  "translation": {
    "provider": "ollama",
    // Provider-specific settings...
  }
}
```

### Main Options

| Setting | Description | Default |
|---------|-------------|---------|
| `source_language` | Source language code | `"en"` |
| `target_language` | Target language code | `"fr"` |
| `translation.provider` | Provider: `"ollama"`, `"openai"`, or `"anthropic"` | `"ollama"` |
| `log_level` | Logging level (`"error"`, `"info"`, `"debug"`, etc.) | `"info"` |
| `batch_size` | Characters to process per batch | `1000` |

See the full configuration file for provider-specific options.

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- TRANSLATION PROVIDERS -->
## Translation Providers

### Ollama (Default, Local)
- üè† Free, runs locally on your machine
- üîó Install from [ollama.ai](https://ollama.ai/)
- üß© Pull your model: `ollama pull mixtral:8x7b`

### OpenAI
- üîë Requires API key from [platform.openai.com](https://platform.openai.com/)
- üìù Add key to config file
- üß† Models: gpt-4o-mini, gpt-4o, etc.

### Anthropic
- üîë Requires API key from [anthropic.com](https://www.anthropic.com/)
- üìù Add key to config file
- üß† Models: claude-3-haiku, claude-3-sonnet, etc.

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- DEVELOPMENT -->
## Development

YASTwAI has been developed with a focus on AI-assisted development. 
For details on how AI agents work with this codebase, see:

- [System Rules](./docs/agentrules/system.md) - General AI agent behavior rules set in Cursor User Rules.
- [Project Rules](./docs/agentrules/cursor_mdc.txt) - Specific project rules detected by Cursor via a [symlink](.cursor/rules/project.mdc).

### Running Tests

```bash
# Run all tests
cargo test

# With logging
RUST_LOG=debug cargo test
```

### Linting

```bash
# Run clippy checks
cargo clippy

# Run with script (includes specific lint settings)
./scripts/ai-clippy.sh --check-only
```

### Helper Scripts

The project includes several AI-optimized helper scripts for development tasks:

```bash
# Branch management
./scripts/ai-branch.sh --new-branch "feature-name"

# Two-step commit workflow
# 1. Preview changes (for user review)
./scripts/ai-commit.sh --mode=preview "Commit title" "Short description" "Original prompt" "Reasoning process" "Challenges faced"
# 2. Execute commit (after user approval)
./scripts/ai-commit.sh --mode=execute "Commit title" "Short description" "Original prompt" "Reasoning process" "Challenges faced"

# Run linting with auto-fixes
./scripts/ai-clippy.sh --fix

# Create PRs
./scripts/ai-pr.sh --title "PR Title" --overview "Brief overview" --key-changes "Change 1,Change 2"
```

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- ROADMAP -->
## Roadmap

- [ ] Support for more subtitle formats beyond SRT
- [ ] UI improvements for better progress visualization
- [ ] Additional AI providers
- [ ] Improved CI/CD pipeline
- [ ] Performance optimizations for large batch processing

See the [open issues](https://github.com/nstefan/yastwai/issues) for a full list of proposed features (and known issues).

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- CONTRIBUTING -->
## Contributing

Contributions are what make the open source community such an amazing place to learn, inspire, and create. Any contributions you make are **greatly appreciated**.

If you have a suggestion that would make this better, please fork the repo and create a pull request. You can also simply open an issue with the tag "enhancement".
Don't forget to give the project a star! Thanks again!

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- LICENSE -->
## License

Distributed under the MIT License. See `LICENSE` for more information.

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- CONTACT -->
## Contact

Project Link: [https://github.com/nstefan/yastwai](https://github.com/nstefan/yastwai)

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- ACKNOWLEDGMENTS -->
## Acknowledgments

* [Cursor Editor](https://cursor.sh/) for making AI-powered development possible
* [FFmpeg](https://ffmpeg.org/) for the powerful media processing capabilities
* [Best-README-Template](https://github.com/othneildrew/Best-README-Template) for this README format

<p align="right">(<a href="#top">back to top</a>)</p>

<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
[contributors-shield]: https://img.shields.io/github/contributors/nstefan/yastwai.svg?style=for-the-badge
[contributors-url]: https://github.com/nstefan/yastwai/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/nstefan/yastwai.svg?style=for-the-badge
[forks-url]: https://github.com/nstefan/yastwai/network/members
[stars-shield]: https://img.shields.io/github/stars/nstefan/yastwai.svg?style=for-the-badge
[stars-url]: https://github.com/nstefan/yastwai/stargazers
[issues-shield]: https://img.shields.io/github/issues/nstefan/yastwai.svg?style=for-the-badge
[issues-url]: https://github.com/nstefan/yastwai/issues
[license-shield]: https://img.shields.io/github/license/nstefan/yastwai.svg?style=for-the-badge
[license-url]: https://github.com/nstefan/yastwai/blob/master/LICENSE
[linkedin-shield]: https://img.shields.io/badge/-LinkedIn-black.svg?style=for-the-badge&logo=linkedin&colorB=555
[linkedin-url]: https://linkedin.com/in/linkedin_username
