---
description: project
globs: 
alwaysApply: false
---

## LANGUAGE
- All code, comments and documentation must be in English.

## COMMANDS
- Never use interactive commands. Always add flags to prevent interaction (e.g., `git diff | cat`).

## BRANCH SAFETY
- Before any commit:
  - Run: `git branch --show-current`
  - If "main"/"master": STOP -> `git checkout -b feature-name`
  - Only commit on feature branches

## COMMIT PROCESS
1. Stage modified files with `git add`
2. Generate commit preview as markdown:
```
{title}

Short description: {description}
Model: {AI model name}
Prompt: {original prompt}
Thought Process: {reasoning verbatim}
Discussion: {challenges faced}
```
3. Wait for user confirmation
4. Execute commit only after approval:
```
MODEL=$(./scripts/ai-cursor-model.sh --quiet)
./scripts/ai-commit.sh --model "$MODEL" "Title" "Description" "Prompt" "Thought" "Discussion"
```

## CODE QUALITY
- After modifying code:
  - Build the app
  - Run unit tests
- Don't use `#[allow(dead_code)]` except for tests

## TEST HANDLING
- When tests break: verify if modification is the issue before changing tests

## PR CREATION
- Only create PRs when explicitly requested
- Use provided script:
```
./scripts/ai-pr.sh --title "PR Title" --overview "Overview" --key-changes "Change1,Change2" --implementation "Detail1,Detail2"
```
- Structure required sections:
  - 🧠 Instructions (Prompt & Thought Process)
  - 📌 Overview
  - 🔍 Key Changes
  - 🧩 Implementation Details
  - 🔄 Migration Notes
  - ⚠️ Areas of Attention
  - 🤖 AI Model
